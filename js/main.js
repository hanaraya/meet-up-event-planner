function initMap(){var e;e=new google.maps.places.Autocomplete(document.getElementById("event-location"),{types:["geocode"]}),google.maps.event.addListener(e,"place_changed",function(){})}function dateValidation(){var e=new Date(eventStartTime.value),t=new Date(eventEndTime.value),n=event.target;e>t?(resetInputError(eventStartTime),resetInputError(eventEndTime),setValidity(n,!0),n.setCustomValidity("Start time cannot be later than end time.\n Please set time so that end time is greater than start time."),n.reportValidity()):(resetInputError(eventStartTime),resetInputError(eventEndTime))}function resetInputError(e){e.getAttribute("aria-invalid")&&e.removeAttribute("aria-invalid"),e.setCustomValidity("")}function setValidity(e,t){!t&&e.getAttribute("aria-invalid")?e.removeAttribute("aria-invalid"):t&&!e.getAttribute("aria-invalid")&&e.setAttribute("aria-invalid","true")}function registerEventListeners(){eventStartTime.addEventListener("change",dateValidation),eventEndTime.addEventListener("change",dateValidation)}var newEventForm=document.getElementById("new-event"),eventStartTime=document.getElementById("event-start-time"),eventEndTime=document.getElementById("event-end-time");newEventForm.onsubmit=function(){var e=localStorage,t={eventName:document.getElementById("event-name").value,eventType:document.getElementById("event-type").value,eventHost:document.getElementById("event-host").value,eventStart:new Date(new Date(eventStartTime.value).getTime()+timezoneOffset).toLocaleString(),eventEnd:new Date(new Date(eventEndTime.value).getTime()+timezoneOffset).toLocaleString(),eventLocation:document.getElementById("event-location").value,eventAttendees:document.getElementById("event-guest-list").value,eventMessage:document.getElementById("event-message").value},n=[];e.eventList&&(n=JSON.parse(e.eventList)),n.unshift(t),e.eventList=JSON.stringify(n)};var currentDate=new Date,timezoneOffset=60*currentDate.getTimezoneOffset()*1e3,localDate=new Date(currentDate.getTime()-timezoneOffset),localDateISOString=localDate.toISOString(),currentDateTimeString=localDateISOString.substr(0,localDateISOString.length-8);eventStartTime.value=currentDateTimeString,eventEndTime.value=currentDateTimeString,registerEventListeners();